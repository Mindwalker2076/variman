<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!-- Generated by coWiki 0.3.0-dev (http://www.develnet.org) -->

<html>
<head>
<title>Hibernate - Hibernate Users FAQ - Advanced Problems</title>

<meta name="generator" content="coWiki 0.3.0-dev, http://www.develnet.org">
<meta name="robots" content="index, follow">
<meta name="keywords" content="">
<meta name="mssmarttagspreventparsing" content="true">
<meta name="revisit-after" content="7 days">
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-15">

<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">

<style type="text/css" media="screen">
<!--

  a {
    color: #256b87;
    text-decoration: none;
  }

  a:visited {
    color: #888888;
  }

a:hover {
    color: black;
}

  p, ol, ul, li, dl, dt, dd, blockquote {
    font-family: Verdana, Sans-serif;
    font-size: 12px;
    text-align: ;
    line-height: 130%;
    color: #000000;
  }

    UL, OL, LI {
        list-style: square;
        font-size: 100%;
        line-height: 120%;
    }

  td, th {
    font-family: Verdana, Sans-serif;
    font-size: 12px;
    color: #000000;
    font-weight: 500;
  }

  span {
    font-size: 12px;
    color: #000000;
    font-weight: 500;
  }

  blockquote {
    font-size: 100%;
    margin-right: 0px;
  }

  h1, h2, h3, h4, h5, h6  {
    color: #000000;
  }

  h1 { font-size: 150%; margin-top: 10px;}
  h2 { font-size: 130%; font-weight: bold; margin-top: 25px;}
  h3 { font-size: 110%; font-weight: bold; margin-top: 20px;}
  h4 { font-size: 105%; font-weight: bold;}
  h5 { font-size: 100%; font-style: italic; }
  h6 { font-size: 100%; font-style: italic; }

  pre, tt {
    font-size: 90%;
    font-family: monospace;
    color: #000000;
  }

  pre.code {
    font-size: 90%;
    font-family: monospace;
    padding: 5px;
    border-style: solid;
    border-width: 1px;
    border-color: #CCCCCC;
    background-color: #eeeeee;
  }

  hr  {
    width: 100%;
    height: 2px;
    background-color: #CCCCCC;
    border-width: 0px;
    padding: 0px;
    color: #CCCCCC;
  }

  input, textarea  {
    font-size: 90%;
    font-family: monospace;
    color: #000000;
    border-width: 1px;
  }

  input.submit {
    font-family: Verdana, Sans-serif;
    font-size: 12px;
    font-weight: bold;
    background-color: #a0a0a0;
    border-width: 1px;
    color: white;
  }

  textarea {
    padding-left: 2px;
  }

  select {
    font-family: monospace;
    font-size: 13.9px;
    color: #000000;
  }

  fieldset {
    margin: 0px;
    padding: 5px;
  }

  legend {
    font-size: 92%;
  }

  /* ------------------------------------------------------------------*/

  .area {
    border-style: solid;
    border-width: 1px;
    border-left-color: #ffffff;
    border-top-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
    background-color: #FFFFFF;
  }

  .areaoverflow {
    overflow: auto;
    border-style: solid;
    border-width: 1px;
    border-left-color: #ffffff;
    border-top-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
    padding: 3px;
    background-color: #FFFFFF;
  }

  .areainset {
    border-style: solid;
    border-width: 1px;
    border-left-color: #ffffff;
    border-top-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
    padding: 3px;
  }

  .window {
    border-style: outset;
    border-width: 2px;
    border-right-width: 1px;
    border-bottom-width: 1px;
    border-left-color: #ffffff;
    border-top-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
  }

  .wintitle {
    font-family: Verdana, Sans-serif;
    background-color: #59666C;
    color: #FFFFFF;
    font-weight: bold;
    font-size: 13.4px;
  }

  .tuborgbox {
    border-style: solid;
    border-width: 0px;
    border-top-color: #ffffff;
    border-left-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
  }

  .tuborgboxsimple {
    border-style: solid;
    border-width: 1px;
    border-color: black;
  }

  .rappsbox {
  }

  .rappsboxsimple {
    border-style: solid;
    border-width: 0px;
    border-color: black;
  }

  .spacer {
    font-size: 2px;
  }

  .error {
    color: #880000;
  }

  .missing {
    font-size: 90%;
    color: #880000;
    text-decoration: none;
    background-color: #BCAE79;
    border-style: solid;
    border-width: 1px;
    border-left-color: #ffffff;
    border-top-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
  }

  .monospace {
    font-family: monospace;
    font-size: 92%;
  }

  .diff {
    font-family: monospace;
    font-size: 92%;
  }

  .label { font-size: 10px; font-family: Verdana, Sans-Serif; font-weight: bold; color: #ffffff; }


  .label:visited {
    color: white;
  }

  .labeldisabled { text-decoration: none; font-size: 90%; font-weight: bold; color: #CCCCCC; }

  .textbut {
    background-color: #BCAE79;
    border-style: solid;
    border-width: 1px;
    border-top-color: #ffffff;
    border-left-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
    padding-top: 1px;
    padding-bottom: 2px;
  }

  .imgbut {
    border-style: solid;
    border-width: 1px;
    border-top-color: #ffffff;
    border-left-color: #ffffff;
    border-right-color: #ffffff;
    border-bottom-color: #ffffff;
  }

  .breadcrumb {
    font-size:90%;
  }

  .breadcrumb:visited {
  }

  .menubottom {
  }

  .menubottom:visited {
    color: #256b87;
  }

  .tiny {
    font-family: Verdana, Sans-serif;
    font-size: 11px;
  }

  .small {
    font-family: Verdana, Sans-serif;
    font-size: 12px;
  }

  .medium {
    font-family: Verdana, Sans-serif;
    font-size: 13px;
  }

  .big {
    font-family: Verdana, Sans-serif;
    font-size: 20px;
  }

-->
</style>

<script language="JavaScript" type="text/javascript">
<!--

  // Do not remove (or change) the JavaScript part, and wonder about errors.
  // First change your plugins and templates not to use these functions.
  // Never use JavaScript for essential functionalities! You may use it
  // for uncritical and superfluous gimmicks.

  window.onerror = null;
  var undefined;

  // ----------------------------------------------------------------------

  function getParentNodeByName(obj, tag) {
    if (!obj.parentNode) { return false; }

    if (obj.parentNode.nodeName.toLowerCase() == tag.toLowerCase()) {
      return obj.parentNode;
    }

    return getParentNodeByName(obj.parentNode, tag);
  }

  // ----------------------------------------------------------------------

  function getPrevSiblingNodeByName(obj, tag) {
    if (!obj.previousSibling) { return false; }

    if (obj.previousSibling.nodeName.toLowerCase() == tag.toLowerCase()) {
      return obj.previousSibling;
    }

    return getPrevSiblingNodeByName(obj.previousSibling, tag);
  }

  // ----------------------------------------------------------------------

  function getNextSiblingNodeByName(obj, tag) {
    if (!obj.nextSibling) { return false; }

    if (obj.nextSibling.nodeName.toLowerCase() == tag.toLowerCase()) {
      return obj.nextSibling;
    }

    return getNextSiblingNodeByName(obj.nextSibling, tag);
  }

  // ----------------------------------------------------------------------

  function fireClickEvent(nodeId) {
    if (document.getElementById) {
      if (obj = document.getElementById(nodeId)) {
        obj.click();
      }
    }
  }

  // ----------------------------------------------------------------------

  function fireClickEventOnChild(obj, tag) {
    if (obj.hasChildNodes) {
      for (i=0; i<obj.childNodes.length; i++) {
        if (obj.childNodes[i].nodeName.toLowerCase() == tag.toLowerCase()) {

          if (obj.childNodes[i].click) {
            obj.childNodes[i].click();
            break;
          }

        }
      }
    }
  }

  // ----------------------------------------------------------------------

  function mover(obj, color) {
    if (color == undefined) {
      obj.style.backgroundColor = '#59666C';
    } else {
      obj.style.backgroundColor = color;
    }
  }

  // ----------------------------------------------------------------------

  function mout(obj, color) {
    if (color == undefined) {
      obj.style.backgroundColor = '#BCAE79';
    } else {
      obj.style.backgroundColor = color;
    }
  }

  // ----------------------------------------------------------------------

  function moverOnParentName(obj, tag, color) {
    newObj = getParentNodeByName(obj, tag);
    if (!newObj) { return; }

    if (color == undefined) {
      mover(newObj);
    } else {
      mover(newObj, color);
    }
  }

  // ----------------------------------------------------------------------

  function moutOnParentName(obj, tag, color) {
    newObj = getParentNodeByName(obj, tag);
    if (!newObj) { return; }

    if (color == undefined) {
      mout(newObj);
    } else {
      mout(newObj, color);
    }
  }

  // ----------------------------------------------------------------------

  function moverOnPrevSiblingName(obj, tag, color) {
    newObj = getPrevSiblingNodeByName(obj, tag);
    if (!newObj) { return; }

    if (color == undefined) {
      mover(newObj);
    } else {
      mover(newObj, color);
    }
  }

  // ----------------------------------------------------------------------

  function moutOnPrevSiblingName(obj, tag, color) {
    newObj = getPrevSiblingNodeByName(obj, tag);
    if (!newObj) { return; }

    if (color == undefined) {
      mout(newObj);
    } else {
      mout(newObj, color);
    }
  }

  // ----------------------------------------------------------------------

  function moverOnNextSiblingName(obj, tag, color) {
    newObj = getNextSiblingNodeByName(obj, tag);
    if (!newObj) { return; }

    if (color == undefined) {
      mover(newObj);
    } else {
      mover(newObj, color);
    }
  }

  // ----------------------------------------------------------------------

  function moutOnNextSiblingName(obj, tag, color) {
    newObj = getNextSiblingNodeByName(obj, tag);
    if (!newObj) { return; }

    if (color == undefined) {
      mout(newObj);
    } else {
      mout(newObj, color);
    }
  }

//-->
</script>


</head>




<body text="#000000"
      link="#256b87" alink="#256b87"
      vlink="#888888" bgcolor="#FFFFFF"
      leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="margin-right:3px"
>
<noindex>

<table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
        <td rowspan="2"width="100%"><a href="index.html"><img
                src="tpl/hibernate2/img/hibernate_logo.gif" width="220" height="63"
                alt="HIBERNATE" border="0"></a></td>
        <td align="right">        
            <a href="http://www.jboss.org/"><IMG
            border="0" src="hib_images/jboss_logo_small_nb.gif" alt="JBoss.org"></a>
        </td>
    </tr>
    <tr>
        <td>
            <table cellpadding="1" cellspacing="0" border="0">
                <tr>
                <td align="right" valign="bottom">
                    
                </td>
                <td valign="bottom" style="font-size:70%; color:#aaaaaa;">&nbsp;|&nbsp;</td>
                <td valign="bottom"  style="font-size: 70%;">
                    <a href="http://forum.hibernate.org/profile.php?mode=register">Register</a>
                </td>
                <td valign="bottom" style="font-size:70%; color:#aaaaaa;">&nbsp;|&nbsp;</td>        
                <td align="right" valign="bottom" width="70">
                    
                </td>
                </tr>
            </table>
        
        </td>
    </tr>
</table>


<table width="100%" bgcolor="#BCAE79" cellspacing="0"
  cellpadding="0" border="0" class="tuborgbox">
  <tr>
    <td width="100%" class="label" height="20">&nbsp;</td>

      
      

      <td>&nbsp;&nbsp;&nbsp;</td>

      

  </tr>
</table>

<table cellpadding="0" cellspacing="0" border="0"><tr><td><img src="tpl/hibernate2/img/0.gif" width="1" height="4" alt="" border="0"></td></tr></table>

</noindex>
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td>
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
        <td bgcolor="white"
            ><img src="tpl/hibernate2/img/0.gif"
            width="1" height="2" alt="" border="0"></td>
        </tr>
    </table>
</td>
</tr>
<tr>
    <td bgcolor="#cccccc" valign="top" align="left" class="rappsbox">
    
      <table width="165"  bgcolor="#a0a0a0" cellpadding="0"
cellspacing="0" border="0">
<tr>
    <td>

    

      

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="1.html"
            class="label"><span class="label">News</span></a>&nbsp;</td>
        </tr>
      </table>

    

      
          <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
            </tr>
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
             </tr>
          </table>

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="4.html"
            class="label"><span class="label">About</span></a>&nbsp;</td>
        </tr>
      </table>

    

      

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td>&nbsp;&nbsp;</td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="21.html"
            class="label"><span class="label">Feature List</span></a>&nbsp;</td>
        </tr>
      </table>

    

      

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td>&nbsp;&nbsp;</td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="200.html"
            class="label"><span class="label">Road Map</span></a>&nbsp;</td>
        </tr>
      </table>

    

      
          <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
            </tr>
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
             </tr>
          </table>

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="5.html"
            class="label"><span class="label">Documentation</span></a>&nbsp;</td>
        </tr>
      </table>

    

      

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td>&nbsp;&nbsp;</td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="27.html"
            class="label"><span class="label">Related Projects</span></a>&nbsp;</td>
        </tr>
      </table>

    

      

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td>&nbsp;&nbsp;</td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="78.html"
            class="label"><span class="label">External Documentation</span></a>&nbsp;</td>
        </tr>
      </table>

    

      
          <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
            </tr>
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
             </tr>
          </table>

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="6.html"
            class="label"><span class="label">Download</span></a>&nbsp;</td>
        </tr>
      </table>

    

      
          <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
            </tr>
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
             </tr>
          </table>

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="20.html"
            class="label"><span class="label">Forum &amp; Mailinglists</span></a>&nbsp;</td>
        </tr>
      </table>

    

      
          <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
            </tr>
            <tr>
              <td bgcolor="#ffffff"
                ><img src="tpl/hibernate2/img/0.gif"
                width="1" height="1" alt="" border="0"></td>
             </tr>
          </table>

      <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
          <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
          <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="148.html"
            class="label"><span class="label">Support &amp; Training</span></a>&nbsp;</td>
        </tr>
      </table>

    

    <!-- Separator -->
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
        <td bgcolor="white"
            ><img src="tpl/hibernate2/img/0.gif"
            width="1" height="2" alt="" border="0"></td>
        </tr>
    </table>

    <!-- JIRA fixed position -->
    <table cellpadding="0" cellspacing="0" border="0" bgcolor="#a0a0a0">
        <tr>
        <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
        <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#a0a0a0')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="217.html"
            class="label"><span class="label">JIRA Issue Tracking</span></a></td>
        </tr>
    </table>

    <!-- Separator -->
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
        <td bgcolor="#FFFFFF"><img src="tpl/hibernate2/img/0.gif"
            width="1" height="2" alt="" border="0"></td>
        </tr>
    </table>

    <!-- WIKI  -->
    <table cellpadding="0" cellspacing="0" border="0" bgcolor="#BCAE79">
        <tr>
        <td></td>
          <td><img src="tpl/hibernate2/img/0.gif" hspace="7" vspace="0" width="1" height="1" alt="" border="0"></td>
        <td height="20"
            onmouseover="moverOnParentName(this, 'TR', '#59666C')"
            onmouseout="moutOnParentName(this, 'TR', '#BCAE79')"
            onmouseup="fireClickEventOnChild(this, 'A')"
            nowrap width="100%"><a onfocus="if (this.blur) this.blur()"
            href="37.html"
            class="label" bgcolor="#BCAE79"><span class="label">Wiki Community Area</label></a></td>
        </tr>
    </table>

    <!-- Separator -->
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
        <td bgcolor="#FFFFFF"><img src="tpl/hibernate2/img/0.gif"
            width="1" height="2" alt="" border="0"></td>
        </tr>
    </table>

    </td>
</tr></table>

<br/>

<br/>
<div align="center">
<a href="175.html"><img
src="hib_images/hibernate_banner02g_125.gif" width="117" height="125"
alt="Hibernate Public Training Courses" border="0"/></a>
</div>

<br/>

<br/>
<div align="center">
<a href="http://www.manning.com/bauer"><img
src="hib_images/hia_banner01.gif" width="124" height="135"
alt="Get Hibernate in Action eBook!" border="0" /></a>
</div>

<br/>
<br/>
<div align="center">
<img src="hib_images/jw_finalist2003.png" border=0" alt="JavaWorld 2003 Finalist">
</div>

<br/>
<br/>
<div align="center">
<img src="hib_images/jolt_winner.png" border=0" alt="Jolt Award 2004 Winner">
</div>

          
    </td>
    <td valign="top" width="100%">
    
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td rowspan="2" width="100%" valign="top">

        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr height="10">
            <td width="100%">
                <table cellpadding="0" cellspacing="0" border="0">
  <tr>
    <td>
      

        
        <a href="5.html" class="breadcrumb"><b>Documentation</b></a>&nbsp;<tt>&gt;</tt>

      

        
        <a href="9.html" class="breadcrumb"><b>FAQs</b></a>&nbsp;<tt>&gt;</tt>

      

      <span class="breadcrumb">Hibernate Users FAQ - Advanced Problems</span>
    </td>
  </tr>
</table>

            </td>
            </tr>
            <tr>
            <td>
                <hr width="100%">
    
                
    
                
<a name="A1"></a><h1>Hibernate Users FAQ - Advanced Problems</h1>
<ul><li><a href="117.html#A2">Advanced Problems</a><ul><li><a href="117.html#A3">I'm seeing some strange behaviour with an embedded composite identifier or when using proxies.</a></li><li><a href="117.html#A4">How do I use a custom type as a query parameter?</a></li><li><a href="117.html#A5">What column should I map the <tt>&lt;index&gt;</tt> tag of an array or List to?</a></li><li><a href="117.html#A6">What are bags for?</a></li><li><a href="117.html#A7">Hibernate is violating a unique constraint!</a></li><li><a href="117.html#A8">I am mixing <tt>identity</tt> id generation with another id generation strategy and Hibernate causes a not null constraint violation.</a></li><li><a href="117.html#A9">Why does Hibernate always initialize a collection when I only want to add or remove an element? </a></li><li><a href="117.html#A10">I tried to filter a query result <tt>List</tt> and recieved <tt>net.sf.hibernate.QueryException: The collection was unreferenced</tt>.</a></li><li><a href="117.html#A11">Hibernate does not return distinct results for a query with outer join fetching enabled for a collection (even if I use the distinct keyword).</a></li><li><a href="117.html#A12">Hibernate is leaking JDBC connections!</a></li><li><a href="117.html#A13">When I leave Hibernate running overnight, I come back and find that it can no longer connect to the database.</a></li><li><a href="117.html#A14">I'm supplying my own connections to Hibernate and I see exceptions like: &quot;too many opened cursors&quot;</a></li><li><a href="117.html#A15">My class has two one-to-many associations to different subclasses of the same root class, but Hibernate ignores the actual concrete class when loading the associations.</a></li><li><a href="117.html#A16">How do I set up a 1-to-1 relationship as lazy?</a></li><li><a href="117.html#A17">I have a non-lazy set of entities that override <tt>equals()</tt> and Hibernate throws a <tt>NullPointerException</tt></a></li><li><a href="117.html#A18">Hibernate ignores my <tt>outer-join=&quot;true&quot;</tt> setting and fetches an association lazily, using n+1 selects!</a></li><li><a href="117.html#A19">The query language <tt>IS NULL</tt> syntax won't work with a one-to-one association!</a></li><li><a href="117.html#A20">How do I use multiple databases?</a></li><li><a href="117.html#A21">Optimistic locking doesn't seem to be working!</a></li><li><a href="117.html#A22">How can I provide my <tt>&lt;subclass&gt;</tt> mappings in a seperate file?</a></li><li><a href="117.html#A23">Hibernate throws: <tt>Another object was associated with this id</tt></a></li><li><a href="117.html#A24">Hibernate throws: <tt>Flush during cascade is dangerous.</tt></a></li><li><a href="117.html#A25">How can I map a table (or view) with no primary key?</a></li><li><a href="117.html#A26">How can I change the identifier value of an existing instance (ie. the primary key)</a></li><li><a href="117.html#A27">Hibernate generates too many outer joins. In MySQL i get <tt>Too many tables. MySQL can only use 31 tables in a join.</tt></a></li><li><a href="117.html#A28">Is the second-level cache enabled by default?</a></li></ul></li></ul>
<a name="A2"></a><h2>Advanced Problems</h2>
<a name="A3"></a><h3>I'm seeing some strange behaviour with an embedded composite identifier or when using proxies.</h3><p>It is actually surprisingly hard to get your implementation of <tt>equals()</tt> right when proxies are enabled. You must be prepared for the possibility that that a class instance is really a proxy for that class, so you can't access instance variables directly (use the accessors). </p><p>And if you are using <tt>&lt;key-many-to-one&gt;</tt> you should compare entity equality by comparing identifiers instead of using ==.</p>
<a name="A4"></a><h3>How do I use a custom type as a query parameter?</h3><p>Use <tt>Hibernate.custom(MyUserType.class)</tt> to obtain the Hibernate <tt>Type</tt> corresponding to your <tt>UserType</tt> or <tt>CompositeUserType</tt>.</p>
<a name="A5"></a><h3>What column should I map the <tt>&lt;index&gt;</tt> tag of an array or List to?</h3><p>You need a seperate table column holding the array or List index (the <tt>i</tt> in <tt>foo[i]</tt>)! If your relational model doesn't have an index column, use a <tt>Set</tt> instead. This seems to put people off who assume that <tt>List</tt> should just be a more convenient way of accessing an unordered collection. Hibernate collections strictly obey the actual semantics attached to the <tt>Set</tt>, <tt>List</tt> and <tt>Map</tt> interfaces. <tt>List</tt> elements don't just spontaneously rearrange themselves. </p><p>On the other hand, people who planned to use the List to emulate &quot;bag&quot;-style semantics have a legitimate grievance here. Fortunately you can map a <tt>List</tt> or <tt>Collection</tt> with bag semantics. </p>
<a name="A6"></a><h3>What are bags for?</h3><p>A bag is an unordered, unindexed collection which can contain the same element multiple times. The Java collections framework lacks a <tt>Bag</tt> interface (though you can emulate it with a <tt>List</tt>). Hibernate lets you map properties of type <tt>List</tt> or <tt>Collection</tt> with the <tt>&lt;bag&gt;</tt> element. Note that bag semantics are not really part of the <tt>Collection</tt> contract and they actually conflict with the semantics of <tt>List</tt>.</p>
<a name="A7"></a><h3>Hibernate is violating a unique constraint!</h3><p>Hibernate isn't quite as clever with unique constraints as it is with foreign keys. Sometimes you might need to give a little hint. </p><p>A unique constraint violation could occur if two objects are both being updated, one is &quot;releasing&quot; a value and the other is &quot;obtaining&quot; the same value. A workaround is to <tt>flush()</tt> the session manually after updating the first object and before updating the second. </p><p>(This kind of problem occurs rarely in practice.) </p>
<a name="A8"></a><h3>I am mixing <tt>identity</tt> id generation with another id generation strategy and Hibernate causes a not null constraint violation.</h3><p>Hibernate uses <em>transactional write-behind</em> for SQL inserts. Unfortunately, write-behind is impossible for the case if <tt>identity</tt> key generation. So, if you are mixing id generation strategies, you might need to:</p><p>1. save the object referred to by the foreign key (the object that does <em>not</em> use <tt>identity</tt>)</p><p>2. <tt>flush()</tt> manually</p><p>3. save the object that is using <tt>identity</tt> generation</p>
<a name="A9"></a><h3>Why does Hibernate always initialize a collection when I only want to add or remove an element? </h3><p>Unfortunately the collections API defines method return values that may only be computed by hitting the database. There are three exceptions to this: Hibernate can add to a <tt>&lt;bag&gt;</tt>, <tt>&lt;idbag&gt;</tt> or <tt>&lt;list&gt;</tt> declared with <tt>inverse=&quot;true&quot;</tt> without initializing the collection; the return value must always be <tt>true</tt>.</p><p>If you want to avoid extra database traffic (ie. in performance critical code), refactor your model to use only many-to-one associations. This is almost always possible. Then use queries in place of collection access.</p>
<a name="A10"></a><h3>I tried to filter a query result <tt>List</tt> and recieved <tt>net.sf.hibernate.QueryException: The collection was unreferenced</tt>.</h3><p>Collection filters are for filtering <em>persistent</em> collections, not query results.</p>
<a name="A11"></a><h3>Hibernate does not return distinct results for a query with outer join fetching enabled for a collection (even if I use the distinct keyword).</h3><p>Query result lists are always exactly the same size as the underlying JDBC <tt>ResultSet</tt>. Try using <tt>uniqueResult()</tt> if appropriate, or simply distinctify the results yourself using, eg.</p>
<pre class="code">
Collection results = new HashSet( session.createQuery(&quot;from Parent p left join fetch p.children&quot;).list() );
</pre>
<a name="A12"></a><h3>Hibernate is leaking JDBC connections!</h3><p>There are three possible reasons why Hibernate might not be closing connections</p>
<ul><li>You are forgetting to call <tt>Session.close()</tt>.</li></ul>
<blockquote><p>This is the most common cause. Consider carefully how you are handling sessions. Are you <em>sure</em> you create only one <tt>Session</tt> per transaction? Are you certain you close the <tt>Session</tt> even if an exception occurs (ie. in a <tt>finally</tt> block).</p><p>Hibernate issues a warning in the log when an unclosed session is garbage collected, so looking there is a good place to start.</p></blockquote>
<ul><li>Hibernate is doing <em>connection pooling</em>.</li></ul>
<blockquote><p>Which <tt>ConnnectionProvider</tt> are you using? If its not <tt>DatasourceConnectionProvider</tt>, then it is probably doing connection pooling. This can cause problems in certain environments. Pooling may be disabled for <tt>DriverManagerConnectionProvider</tt> by setting <tt>hibernate.connection.pool_size=0</tt> in <tt>hibernate.properties</tt>.</p></blockquote>
<ul><li>You are supplying your own connection.</li></ul>
<blockquote><p>If you supply your own JDBC connection to <tt>SessionFactory.openSession()</tt>, Hibernate does <em>not</em> close it from <tt>Session.close()</tt>.</p></blockquote><p>In any case, you can <em>always</em> bypass Hibernate's <tt>Connection</tt> and transaction handling <em>altogether</em>. For example, the following code block shows the application managing connections and transactions manually:</p>
<pre class="code">
Session s = sf.openSession( getMyJDBCConnection() ); //supply a JDBC connection
try {
    // do some work
    s.connection().commit();
}
catch (Exception e) {
    s.connection().rollback();
}
finally {
    s.close().close(); //close the session and user-supplied JDBC connection
}
</pre><p>That way you can be <em>certain</em> that Hibernate is not to blame when you see these kinds of issues (we are already quite certain).</p>
<a name="A13"></a><h3>When I leave Hibernate running overnight, I come back and find that it can no longer connect to the database.</h3><p>(This is particularly common in the case of MySQL, wich times out JDBC connections after a short time.)</p><p>You should never use Hibernate's built-in connection pooling in production; it is non-scalable and non-fault-tolerant. Instead, use DBCP or C3P0 (or, even better, an application server datasource).</p>
<a name="A14"></a><h3>I'm supplying my own connections to Hibernate and I see exceptions like: &quot;too many opened cursors&quot;</h3><p>You must disable PreparedStatement caching by setting</p><p><tt>hibernate.statement_cache.size=0</tt></p>
<a name="A15"></a><h3>My class has two one-to-many associations to different subclasses of the same root class, but Hibernate ignores the actual concrete class when loading the associations.</h3><p>The following mapping does not work: </p>
<pre class="code">
&lt;class name=&quot;BalanceSheet&quot;&gt;
    ....
    &lt;set role=&quot;purchases&quot;&gt;
        &lt;key ....&gt;
        &lt;one-to-many class=&quot;Purchase&quot; column=&quot;bsid&quot;/&gt;
    &lt;/set&gt;
    &lt;set role=&quot;sales&quot;&gt;
        &lt;key ....&gt;
        &lt;one-to-many class=&quot;Sale&quot; column=&quot;bsid&quot;/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name=&quot;Transaction&quot;&gt;
    ....
    &lt;subclass name=&quot;Purchase&quot;.../&gt;
    &lt;subclass name=&quot;Sale&quot;.../&gt;
&lt;/class&gt;
</pre><p>You must either </p>
<ul><li>use a <tt>where</tt> attribute in each <tt>&lt;set&gt;</tt> mapping</li><li>map each association to a different column of the Transaction table</li><li>map a single association and use a collection filter to retrieve instances of a particular subclass</li><li>use a table-per-concrete-class mapping strategy for the Transaction hierarchy</li></ul>
<a name="A16"></a><h3>How do I set up a 1-to-1 relationship as lazy?</h3><p>Use </p>
<pre class="code">
&lt;one-to-one constrained=&quot;true&quot; outer-join=&quot;false&quot; class=&quot;Foo&quot;/&gt;
</pre><p>with a proxied class, <tt>Foo</tt>. This is ONLY conceptually possible for a mandatory association since we <strong>have</strong> to hit the other table to determine whether the association is null or not!</p>
<a name="A17"></a><h3>I have a non-lazy set of entities that override <tt>equals()</tt> and Hibernate throws a <tt>NullPointerException</tt></h3><p>In certain special situations (the common one is a reflexive association) a non-lazy <tt>Set</tt> containing a persistent class that overrides <tt>equals()</tt>, or a <tt>SortedSet</tt> with a custom <tt>Comparator</tt> can cause a <tt>NullPointerException</tt>. This is a known issue that will probably not be fixed, because it is the result of an important performance optimization. The workaround is to re-map the set with <tt>lazy=&quot;true&quot;</tt>.</p>
<a name="A18"></a><h3>Hibernate ignores my <tt>outer-join=&quot;true&quot;</tt> setting and fetches an association lazily, using n+1 selects!</h3><p>HQL queries always ignore the setting for <tt>outer-join</tt> defined in the mapping document. This setting applies only to associations fetched using <tt>get()</tt> or <tt>load()</tt>, <tt>Criteria</tt> queries, and graph navigation. If you need to enable eager fetching for a HQL query, use an explicit <tt>LEFT JOIN FETCH</tt>.</p><p>Note also that Hibernate does not support outer join fetching of more than one many-valued association in the same query.</p>
<a name="A19"></a><h3>The query language <tt>IS NULL</tt> syntax won't work with a one-to-one association!</h3><p>The following queries:</p>
<pre class="code">
FROM User u WHERE u.email IS NULL
</pre>
<pre class="code">
FROM User u WHERE u.email IS NOT NULL
</pre><p>will not work for a one-to-one association! Use</p>
<pre class="code">
SELECT u FROM User u LEFT JOIN u.email e WHERE e IS NULL
</pre>
<pre class="code">
FROM User u WHERE NOT u.email IN (FROM Email e)
</pre><p>instead of the simple <tt>IS NULL</tt> test. The second form cannot work for a database without subselects. Use</p>
<pre class="code">
SELECT u FROM User u INNER JOIN u.email
</pre>
<pre class="code">
FROM User u WHERE u.email IN (FROM Email e)
</pre><p>instead of <tt>IS NOT NULL</tt>. The third form will not work for a database without subselects.</p>
<a name="A20"></a><h3>How do I use multiple databases?</h3><p>You must configure multiple <tt>SessionFactory</tt> instances.</p>
<a name="A21"></a><h3>Optimistic locking doesn't seem to be working!</h3><p>Disable JDBC batch updates. Hibernate uses the updated row count to detect conflict. If batch updates are enabled, the row count is unavailable.</p>
<a name="A22"></a><h3>How can I provide my <tt>&lt;subclass&gt;</tt> mappings in a seperate file?</h3><p>Use an XML enternal entity declaration.</p><p>Since Hibernate 2.1, you can specify an <tt>extends</tt> attribute in the subclass mapping, naming a previously mapped superclass. Use of this feature makes the ordering of the mapping documents important!</p>
<a name="A23"></a><h3>Hibernate throws: <tt>Another object was associated with this id</tt></h3><p>For a particular session, there may be at most one object that represents a particular database row. So, if you already loaded an object with a particular identifier, you can't then try to associate a different object with the same identifier by calling <tt>update()</tt>.</p><p>If you absolutely <em>must</em> do this, <tt>evict()</tt> the original instance first - but it is much better to simply avoid this situation.</p>
<a name="A24"></a><h3>Hibernate throws: <tt>Flush during cascade is dangerous.</tt></h3><p>This almost always happens because you forgot to remove a deleted instance from an association with cascading save enabled. You should remove deleted objects from associations before flushing the session.</p>
<a name="A25"></a><h3>How can I map a table (or view) with no primary key?</h3><p>Every table (or even view) should have <em>some</em> unique key. The mathematical definition of a relation is a <em>set</em> of tuples. (Sets do not permit duplicate elements.) Furthermore, truly identical rows can not possibly have any meaningful semantics from the user's perspective.</p><p>In some cases it may be sensible to go as far as mapping all columns of a view as a <tt>&lt;composite-id/&gt;</tt>, but there is almost always some smaller business key. (Note that Hibernate does not require that this unique key be enforced by the database schema, of course.)</p>
<a name="A26"></a><h3>How can I change the identifier value of an existing instance (ie. the primary key)</h3><p>It is part of the definition of a primary key that it is not only unique, but also constant throughout the life of the row. Hibernate does not, and should not, support changing identifier values.</p>
<a name="A27"></a><h3>Hibernate generates too many outer joins. In MySQL i get <tt>Too many tables. MySQL can only use 31 tables in a join.</tt></h3><p>You can set <tt>outer-join=&quot;false&quot;</tt> on particular associations or, in Hibernate 2.1, use <tt>hibernate.max_fetch_depth</tt> to a smaller value.</p>
<a name="A28"></a><h3>Is the second-level cache enabled by default?</h3><p>No entities or collections will be cached in the second-level cache unless you supply <tt>&lt;cache&gt;</tt> elements in the mapping files or <tt>&lt;class-cache&gt;</tt> and/or <tt>&lt;collection-cache&gt;</tt> elements in <tt>hibernate.cfg.xml</tt>, <em>even when EHCache or some other cache provider is configured.</em></p><p>Likewise, queries are not cached in the query cache, unless you explicitly call <tt>Query.setCacheable(true)</tt>, <em>even when the query cache is enabled.</em></p>

    
                
            </td>
            </tr>
            <tr>
            <td>
                
            </td>
            </tr>
        </table>

        </td>
        <td rowspan="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
      </tr>
      </table>
    
    </td>
</tr>
</table>


<hr>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left">
<A href="http://sourceforge.net/projects/hibernate"><IMG
border="0" src="tpl/hibernate2/img/0.gif" hspace="30" vspace="2"></A>
</td>
<td align="right" valign="middle">
<b><a href="http://www.develnet.org/">coWiki</a>&nbsp;</b>
</td>
</tr>
</table>
</body>
</html>
