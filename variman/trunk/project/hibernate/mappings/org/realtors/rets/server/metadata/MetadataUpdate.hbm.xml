<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
        "-//Hibernate/Hibernate Mapping DTD//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<!-- $Id: MetadataUpdate.hbm.xml,v 1.3 2003/06/12 20:55:45 kgarner Exp $ -->

<hibernate-mapping>
  <class name="org.realtors.rets.server.metadata.MetadataUpdate"
         table="rets_metadata_update">

    <id name="id" type="long">
      <generator class="hilo"/>
    </id>

    <many-to-one name="classid" cascade="none"
                 class="org.realtors.rets.server.metadata.MetadataClass"/>

    <property name="updateName" type="string">
      <column name="update_name" length="24" not-null="true" unique="true"
              index="update_update_name_index"/>
    </property>

    <property name="description" type="string">
      <column name="description" length="64"/>
    </property>

    <property name="keyField" type="string">
      <column name="key_field" length="32"/>
    </property>

    <property name="version" type="string">
      <column name="version" length="11"/>
    </property>

    <property name="date" type="date">
      <column name="r_date"/>
    </property>

    <set name="updateTypes" inverse="true">
      <key column="updateid"/>
      <one-to-many
                 class="org.realtors.rets.server.metadata.MetadataUpdateType"/>
    </set>
    
  </class>
</hibernate-mapping>
