<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
        "-//Hibernate/Hibernate Mapping DTD//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<!-- $Id: Resource.hbm.xml,v 1.7 2003/06/19 20:20:52 kgarner Exp $ -->

<hibernate-mapping>
  <class name="org.realtors.rets.server.metadata.Resource"
         table="rets_metadata_resource">
    <id name="id" type="long">
      <generator class="hilo"/>
    </id>

    <many-to-one name="systemid" cascade="none"
                 class="org.realtors.rets.server.metadata.System"/>

    <property name="resourceID" type="string">
      <column name="resource_id" length="32" not-null="true" unique="true"
              index="resource_rets_id_index"/>
    </property>

    <property name="standardName" type="string">
      <column name="standard_name" length="32"/>
    </property>

    <property name="visibleName" type="string">
      <column name="visible_name" length="32"/>
    </property>

    <property name="description" type="string">
      <column name="description" length="64"/>
    </property>

    <!-- this is probably not correct -->
    <property name="keyField" type="string">
      <column name="key_field" length="32"/>
    </property>

    <!-- should this be derived dynamically? -->
    <property name="classCount" type="int"/>

    <property name="classVersion" type="string">
      <column name="class_version" length="11"/>
    </property>

    <property name="classDate" type="date"/>

    <property name="objectVersion" type="string">
      <column name="object_version" length="11"/>
    </property>

    <property name="objectDate" type="date"/>

    <property name="searchHelpVersion" type="string">
      <column name="searchelp_version" length="11"/>
    </property>

    <property name="searchHelpDate" type="date"/>

    <property name="editMaskVersion" type="string">
      <column name="editmask_version" length="11"/>
    </property>

    <property name="editMaskDate" type="date"/>

    <property name="lookupVersion" type="string">
      <column name="lookup_version" length="11"/>
    </property>

    <property name="lookupDate" type="date"/>

    <property name="updateHelpVersion" type="string">
      <column name="updatehelp_version" length="11"/>
    </property>

    <property name="updateHelpDate" type="date"/>

    <property name="validationExpressionVersion" type="string">
      <column name="validationexpression_version" length="11"/>
    </property>

    <property name="validationExpressionDate" type="date"/>

    <property name="validationLookupVersion" type="string">
      <column name="validationlookup_version" length="11"/>
    </property>

    <property name="validationLookupDate" type="date"/>

    <property name="validationExternalVersion" type="string">
      <column name="validationexternal_version" length="11"/>
    </property>

    <property name="validationExternalDate" type="date"/>

    <set name="classes" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.realtors.rets.server.metadata.Class"/>
    </set>

    <set name="objects" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.realtors.rets.server.metadata.Object"/>
    </set>

    <set name="searchHelps" inverse="true">
      <key column="resourceid"/>
      <one-to-many
                 class="org.realtors.rets.server.metadata.SearchHelp"/>
    </set>

    <set name="editMasks" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.realtors.rets.server.metadata.EditMask"/>
    </set>

    <set name="lookups" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.realtors.rets.server.metadata.Lookup"/>
    </set>

    <set name="validationLookups" inverse="true">
      <key column="resourceid"/>
      <one-to-many
           class="org.realtors.rets.server.metadata.ValidationLookup"/>
    </set>

    <set name="validationExternals" inverse="true">
      <key column="resourceid"/>
      <one-to-many
         class="org.realtors.rets.server.metadata.ValidationExternal"/>
    </set>

    <set name="validationExpressions" inverse="true">
      <key column="resourceid"/>
      <one-to-many
       class="org.realtors.rets.server.metadata.ValidationExpression"/>
    </set>

    <set name="updateHelps" inverse="true">
      <key column="resourceid"/>
      <one-to-many
                 class="org.realtors.rets.server.metadata.UpdateHelp"/>
    </set>

  </class>
</hibernate-mapping>
    
