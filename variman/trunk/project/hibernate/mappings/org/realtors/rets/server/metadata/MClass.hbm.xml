<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
        "-//Hibernate/Hibernate Mapping DTD//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<!-- $Id: MClass.hbm.xml,v 1.8 2003/06/23 21:51:13 kgarner Exp $ -->

<hibernate-mapping>
  <class name="org.realtors.rets.server.metadata.MClass"
         table="rets_metadata_class">
    <id name="id" type="long">
      <generator class="hilo"/>
    </id>

    <many-to-one name="resourceid" cascade="none"
                 class="org.realtors.rets.server.metadata.Resource"/>

    <property name="className" type="string">
      <column name="class_name" length="32" not-null="true" unique="true"
              index="class_name_index"/>
    </property>

    <property name="stardardName"
             type="org.realtors.rets.server.metadata.ClassStandardNameEnum">
      <column name="standard_name" index="class_standard_name_index"/>
    </property>

    <property name="visibleName" type="string">
      <column name="visible_name" length="32"
              index="class_visible_name_index"/>
    </property>

    <property name="description" type="string">
      <column name="description" length="64"/>
    </property>

    <property name="tableVersion" type="string">
      <column name="table_version" length="11"/>
    </property>

    <property name="tableDate" type="date"/>

    <property name="updateVersion" type="string">
      <column name="update_version" length="11"/>
    </property>

    <property name="updateDate" type="date"/>

    <set name="tables" inverse="true">
      <key column="classid"/>
      <one-to-many class="org.realtors.rets.server.metadata.Table"/>
    </set>

    <set name="updates" inverse="true">
      <key column="classid"/>
      <one-to-many class="org.realtors.rets.server.metadata.Update"/>
    </set>

  </class>
</hibernate-mapping>
