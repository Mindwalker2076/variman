<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
        "-//Hibernate/Hibernate Mapping DTD//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<!-- $Id: Resource.hbm.xml,v 1.5 2003/06/04 20:32:45 kgarner Exp $ -->

<hibernate-mapping>
  <class name="org.nar.rets.metadata.newdb.MetadataResource"
    table="rets_metadata_resource">
    <id name="id" type="long">
      <generator class="hilo"/>
    </id>

    <many-to-one name="systemid" cascade="none"
      class="org.nar.rets.metadata.newdb.MetadataSystem"/>

    <property name="resourceID" type="string">
      <column name="resource_id" length="32" not-null="true" unique="true"
        index="resource_rets_id_index"/>
    </property>

    <property name="standardName" type="string">
      <column name="standard_name" length="32"/>
    </property>

    <property name="visibleName" type="string">
      <column name="visible_name" length="32"/>
    </property>

    <property name="description" type="string">
      <column name="description" length="64"/>
    </property>

    <!-- this is probably not correct -->
    <property name="keyField" type="string">
      <column name="key_field" length="32"/>
    </property>

    <!-- should this be derived dynamically? -->
    <property name="classCount" type="int"/>

    <property name="classVersion" type="string">
      <column name="class_version" length="11"/>
    </property>

    <property name="classDate" type="date"/>

    <property name="objectVersion" type="string">
      <column name="object_version" length="11"/>
    </property>

    <property name="objectDate" type="date"/>

    <property name="searchHelpVersion" type="string">
      <column name="searchelp_version" length="11"/>
    </property>

    <property name="searchHelpDate" type="date"/>

    <property name="editMaskVersion" type="string">
      <column name="editmask_version" length="11"/>
    </property>

    <property name="editMaskDate" type="date"/>

    <property name="lookupVersion" type="string">
      <column name="lookup_version" length="11"/>
    </property>

    <property name="lookupDate" type="date"/>

    <property name="updateHelpVersion" type="string">
      <column name="updatehelp_version" length="11"/>
    </property>

    <property name="updateHelpDate" type="date"/>

    <property name="validationExpressionVersion" type="string">
      <column name="validationexpression_version" length="11"/>
    </property>

    <property name="validationExpressionDate" type="date"/>

    <property name="validationLookupVersion" type="string">
      <column name="validationlookup_version" length="11"/>
    </property>

    <property name="validationLookupDate" type="date"/>

    <property name="validationExternalVersion" type="string">
      <column name="validationexternal_version" length="11"/>
    </property>

    <property name="validationExternalDate" type="date"/>

    <set name="classes" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.nar.rets.metadata.newdb.MetadataClass"/>
    </set>

    <set name="objects" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.nar.rets.metadata.newdb.MetadataObject"/>
    </set>

    <set name="searchHelps" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.nar.rets.metadata.newdb.MetadataSearchHelp"/>
    </set>

    <set name="editMasks" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.nar.rets.metadata.newdb.MetadataEditMask"/>
    </set>

    <set name="lookups" inverse="true">
      <key column="resourceid"/>
      <one-to-many class="org.nar.rets.metadata.newdb.MetadataLookup"/>
    </set>

    <set name="validationLookups" inverse="true">
      <key column="resourceid"/>
      <one-to-many
        class="org.nar.rets.metadata.newdb.MetadataValidationLookup"/>
    </set>

    <set name="validationExternals" inverse="true">
      <key column="resourceid"/>
      <one-to-many
        class="org.nar.rets.metadata.newdb.MetadataValidationExternal"/>
    </set>

    <set name="validationExpressions" inverse="true">
      <key column="resourceid"/>
      <one-to-many
        class="org.nar.rets.metadata.newdb.MetadataValidationExpression"/>
    </set>

    <set name="updateHelps" inverse="true">
      <key column="resourceid"/>
      <one-to-many
        class="org.nar.rets.metadata.newdb.MetadataUpdateHelp"/>
    </set>

  </class>
</hibernate-mapping>
    
